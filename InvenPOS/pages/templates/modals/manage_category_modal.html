<!-- ðŸ§¾ MANAGE CATEGORY MODAL -->
<div class="modal fade" id="manageCategoryModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 shadow-lg rounded-3">
      
      <!-- Header -->
      <div class="modal-header bg-light border-bottom">
        <h5 class="modal-title fw-semibold text-dark">
          <i class="bi bi-tags-fill me-2 text-primary"></i>Manage Categories
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Body -->
      <div class="modal-body py-4 px-4">

        <!-- Table -->
        <div class="table-responsive rounded-2 border">
          <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
              <tr class="text-secondary">
                <th style="width: 50px;">#</th>
                <th>Category Name</th>
                <th class="text-end" style="width: 160px;">Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for cat in categories %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td>
                  <form action="{% url 'pages:edit_category' cat.id %}" method="POST" class="d-flex align-items-center gap-2">
                    {% csrf_token %}
                    <input type="text" name="name" value="{{ cat.name }}" class="form-control form-control-sm" required>
                    <button type="submit" class="btn btn-sm btn-success px-3">Save</button>
                  </form>
                </td>
                <td class="text-end">
                  <a href="{% url 'pages:delete_category' cat.id %}" 
                     class="btn btn-sm btn-outline-danger px-3"
                     onclick="return confirm('Delete category {{ cat.name }} and all its products?');">
                    Delete
                  </a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3" class="text-center text-muted py-3">
                  <i class="bi bi-inbox me-2"></i>No categories available
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Divider -->
        <hr class="my-4">

        <!-- Add Category -->
        <div class="add-category">
          <h6 class="fw-semibold mb-3 text-secondary">Add New Category</h6>
          <form action="{% url 'pages:add_category' %}" method="POST" class="d-flex gap-2">
            {% csrf_token %}
            <input type="text" name="name" class="form-control" placeholder="Enter category name..." required>
            <button type="submit" class="btn btn-primary px-4">Add</button>
          </form>
        </div>

      </div>
    </div>
  </div>
</div>
